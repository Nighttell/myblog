<!DOCTYPE html><html lang="zh"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><title>Carla自动驾驶win10x64安装软件bug问题汇总 | Nighttellの小世界</title><meta name="author" content="Nighttell"><meta name="description" content="一个小菜鸡的博客"><meta name="keywords" content=""><link rel="icon" href="https://imageproxy.chaoxing.com/0x0,q100,jpeg,sLbB3tfuyORLkUo4-9SaEMlHy0RPDQQZRPc_saASM-wA/https://p.ananas.chaoxing.com/star3/origin/53583497e22d1d2a977fdd4e71825d5c.png"><script src="https://cdn.staticfile.org/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://cdn.staticfile.org/font-awesome/6.1.1/js/all.min.js"></script><link rel="stylesheet" href="/css/fonts.min.css"><link rel="stylesheet" href="/css/particlex.css"><script src="https://cdn.staticfile.org/vue/3.2.33/vue.global.prod.min.js"></script><canvas id="background" style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:-1"></canvas><script src="/js/background.js"></script><script src="/js/anime.min.js"></script><canvas id="fireworks" style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:2147483647"></canvas><script src="/js/fireworks.js"></script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="loading" style="height:100vh;width:100vw;position:fixed;display:flex;z-index:200;justify-content:space-between;background:#fff;transition:opacity .3s ease-out"><div style="position:fixed;height:100vh;width:100vw;display:flex;justify-content:center;align-items:center"><div id="loadcontent" style="width:50vmin;height:50vmin;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px #a3ddfb;text-align:center"><div><h2>LOADING...</h2><p style="word-break:keep-all">加载过慢请开启缓存(浏览器默认开启)</p><div><img alt="loading" src="/loading.gif"></div></div></div></div></div><div id="layout"><i data-fa-symbol="calendar-solid" class="fa-solid fa-calendar fa-fw"></i> <i data-fa-symbol="bookmark-solid" class="fa-solid fa-bookmark fa-fw"></i> <i data-fa-symbol="tags-solid" class="fa-solid fa-tags fa-fw"></i><transition name="into"><div v-show="show_page" style="display:-not-none"><div id="menu_show"><nav id="menu"><div class="desktop-menu"><a href="/"><span class="title">Nighttellの小世界</span> </a><a href="/"><i class="fa-solid fa-house fa-fw"></i> <span>&ensp;home</span> </a><a href="/about"><i class="fa-solid fa-id-card fa-fw"></i> <span>&ensp;about</span> </a><a href="/archives"><i class="fa-solid fa-box-archive fa-fw"></i> <span>&ensp;archives</span> </a><a href="/categories"><i class="fa-solid fa-bookmark fa-fw"></i> <span>&ensp;categories</span> </a><a href="/tags"><i class="fa-solid fa-tags fa-fw"></i> <span>&ensp;tags</span></a></div><div :class="'phone-menu ' + menu_show" id="phone-menu"><div class="curtain" @click="menu_show = !menu_show" v-show="menu_show"></div><div :class="'title'" @click="menu_show = !menu_show"><i class="fa-solid fa-bars fa-fw"></i> <span>&emsp;Nighttellの小世界</span></div><transition name="slide"><div class="items" v-show="menu_show"><a href="/"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-house fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">home</div></div></a><a href="/about"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-id-card fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">about</div></div></a><a href="/archives"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-box-archive fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">archives</div></div></a><a href="/categories"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-bookmark fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">categories</div></div></a><a href="/tags"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-tags fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">tags</div></div></a></div></transition></div></nav></div><div id="main"><div class="article"><div><h1>Carla自动驾驶win10x64安装软件bug问题汇总</h1></div><div class="info"><span class="date"><span class="icon"><svg class="fa-icon"><use xlink:href="#calendar-solid"></use></svg> </span>2023/1/12 </span><span class="category"><a href="/categories/Carla/"><span class="icon"><svg class="fa-icon"><use xlink:href="#bookmark-solid"></use></svg> </span>Carla </a></span><span class="tags"><span class="icon"><svg class="fa-icon"><use xlink:href="#tags-solid"></use></svg> </span><span class="tag"><a href="/tags/技术/" style="color:#ff7d73">技术 </a></span><span class="tag"><a href="/tags/问题/" style="color:#ffa2c4">问题 </a></span><span class="tag"><a href="/tags/Carla/" style="color:#00bcd4">Carla </a></span><span class="tag"><a href="/tags/自动驾驶/" style="color:#ff7d73">自动驾驶 </a></span><span class="tag"><a href="/tags/安装/" style="color:#00a596">安装 </a></span><span class="tag"><a href="/tags/bug/" style="color:#03a9f4">bug</a></span></span></div><div class="content" v-pre><p>在安装carla时出现的问题~</p><span id="more"></span><h1 id="Carla安装！"><a href="#Carla安装！" class="headerlink" title="Carla安装！"></a><strong>Carla安装！</strong></h1><p>参考：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/439206036">https://zhuanlan.zhihu.com/p/439206036</a><br>我的环境：</p><blockquote><p>window10<br>64位</p></blockquote><p>###一、安装软件要求</p><p><a target="_blank" rel="noopener" href="https://carla.readthedocs.io/en/latest/build_windows/">https://carla.readthedocs.io/en/latest/build_windows&#x2F;</a></p><p><code>cmake 3.25.1</code>已加环境变量</p><p><code>git</code>不要求版本</p><p><code>Make√3.81</code>已加环境变量</p><p><code>Python</code><br>ps：建议给留出200g空间….这个b东西真的非常吃空间<br>###3.10后面卸载了安装了3.8</p><p>##Vs一定一定一定用2019！不兼容其他！！！！</p><p>###二、python 依赖</p><pre><code class="cmd">pip install --user --upgrade pip
</code></pre><p>###三、**** Visual Studio 2019 **<strong>安装</strong></p><p>我是win10，已经下了vs2022，<br>#2022不行！！！！一定要2019</p><ul><li><strong>Windows</strong> <strong>10</strong> <strong>SDK</strong></li><li><strong>.x64 Visual C++ Toolset.</strong> In the <em>Workloads</em> section, choose <strong>Desktop development with C++</strong>. This will enable a x64 command prompt that will be used for the build. Check that it has been installed correctly by pressing the Windows button and searching for x64. Be careful <strong>not to open a **** x86_x64 **** prompt</strong>.</li><li><strong>.NET framework 4.6.2</strong>.</li></ul><p>###<strong>四、虚幻引擎安装</strong></p><p>将虚幻引擎账号和github账号绑定！</p><p>从版本 0.9.12 开始，CARLA 使用虚幻引擎 4.26 的修改版。此分支包含特定于 CARLA 的补丁。</p><p><strong>.</strong> 在终端中，导航到要保存虚幻引擎的位置并克隆_carla_分支：</p><pre><code class="cmd">
git clone --depth 1 -b carla https://github.com/CarlaUnreal/UnrealEngine.git .
</code></pre><p>Git下载巨慢，设置socks代理。（自己自己修改vpn的端口）</p><pre><code class="cmd">git config --global http.proxy socks5://127.0.0.1:1080

git config --global https.proxy socks5://127.0.0.1:1080
</code></pre><p>运行配置脚本</p><p>Setup.bat GenerateProjectFiles.bat</p><p>Vs打开ue4.sln，确保已选择”开发编辑器”、”Win64”和”虚幻构建工具”选项。在解决方案资源管理器中，右键单击并选择 。UE4Build</p><p>编译解决方案后，您可以打开引擎以通过启动可执行文件来检查所有内容是否已正确安装。Engine\Binaries\Win64\UE4Editor.exe</p><p>最后经过漫长的build和编译，终于打开了这个界面。</p><p><img src="/RackMultipart20230112-1-idkjug_html_b0f0900c8697ef14.png"></p><p>然后重启</p><p>###<strong>五、下载</strong>** carla**</p><p><a target="_blank" rel="noopener" href="https://github.com/carla-simulator/carla">carla-simulator&#x2F;carla: Open-source simulator for autonomous driving research. (github.com)</a></p><p>打开里面的update.bat进行更新</p><p>这东西有15个g，直接用迅雷下载了。<br>##你如果跟我一样是用zip解压的，会报错</p><pre><code class="cmd">Error C1083 No se puede abrir el archivo incluir: &#39;carla/Version.h&#39;: No such file or directory CarlaUE4 C:\Proyectos\Python-ia\tema4\carla-0.9.8\Unreal\CarlaUE4\Plugins\Carla\Source\Carla\Server\CarlaServer.cpp 18
Gravedad Código Descripción Proyecto Archivo Línea Estado suprimido
Error MSB3073 El comando &quot;&quot;C:\Program Files\Epic Games\UE_4.22\Engine\Build\BatchFiles\Rebuild.bat&quot; CarlaUE4Editor Win64 Development -Project=&quot;C:\Proyectos\Python-ia\tema4\carla-0.9.8\Unreal\CarlaUE4\CarlaUE4.uproject&quot; -WaitMutex -FromMsBuild&quot; salió con el código -1. CarlaUE4 C:\Program Files (x86)\Microsoft Visual Studio\2017\Enterprise\Common7\IDE\VC\VCTargets\Microsoft.MakeFile.Targets 49
</code></pre><p>##解决方法<a href="#solve1">点这里</a></p><h3 id="六、设置虚幻引擎环境变量"><a href="#六、设置虚幻引擎环境变量" class="headerlink" title="六、设置虚幻引擎环境变量"></a><strong>六、设置虚幻引擎环境变量</strong></h3><p>新建环境变量：UE4_ROOT，E:\GraduationDesign\ue4<br>ps：到ue4就行了</p><h3 id="七、build-carla"><a href="#七、build-carla" class="headerlink" title="七、build carla"></a><strong>七、build carla</strong></h3><p>#这一步一定要开vpn下载！！！</p><p>在 **x64 Native Tools Command Prompt for VS 2019中打开命令，切换到 **<strong>carla</strong> 根目录，</p><p><img src="https://nighttellpic.netlify.app/20230112111244.png"><br>ps：一定要2019vs，如图的2022vs会出bug！！！！！</p><p>然后用make PythonAPI编译python客户端！</p><p><img src="https://nighttellpic.netlify.app/20230112111422.png"><br>报错了，再看看</p><p>The problem is that zlib version 1.2.11 doesn’t have a website anymore so when running make the error means that it can’t download the zipped zlib. I was able to fix it by going to carla&#x2F;Util&#x2F;InstallersWin&#x2F;install_zlib.bat and changing line 51 to “set ZLIB_VERSION&#x3D;1.2.12” instead of “set ZLIB_VERSION&#x3D;1.2.11” Then delete the build folder in carla&#x2F; and run “make PythonAPi” again</p><p>###这个解决方法不一定有用，我是开vpn解决的</p><p>##问题解决，开vpn走1008端口，</p><p><img src="/RackMultipart20230112-1-idkjug_html_b003a4deadea1b22.png"></p><p>又报错</p><p>找到解决问题：</p><p>出现b2.exe拒绝访问，找到问题，<br>##python3.10不兼容，请退回3.8</p><p>···哈哈，能踩的坑基本都踩了 6.···</p><p>新bug</p><p>No CMAKE_C_COMPILER could be found.</p><p>重新安装win10 sdk</p><p>新bug</p><pre><code class="cmd">-[BuildPythonAPI]: [Batch params]: --py3

Building Python API for Python 3.

Traceback (most recent call last):

File &quot;setup.py&quot;, line 168, in \&lt;module\&gt;

ext\_modules=get\_libcarla\_extensions(),

File &quot;setup.py&quot;, line 121, in get\_libcarla\_extensions

libs = [x for x in os.listdir(&#39;dependencies/lib&#39;) if any(d in x for d in required\_libs)]

FileNotFoundError: [WinError 3] 系统找不到指定的路径。: &#39;dependencies/lib&#39;
</code></pre><p>找不到</p><p><a target="_blank" rel="noopener" href="https://github.com/carla-simulator/carla/issues/3076">https://github.com/carla-simulator/carla/issues/3076</a></p><p>有issue，但是没人解决<br>###最后解决方法是换vs2019，因为2022有些东西没编译上</p><p>###<a id="solve1">解决方法</a><br>##新bug</p><pre><code class="cmd">Gravedad Código Descripción Proyecto Archivo Línea Estado suprimido
Error C1083 No se puede abrir el archivo incluir: &#39;carla/Version.h&#39;: No such file or directory CarlaUE4 C:\Proyectos\Python-ia\tema4\carla-0.9.8\Unreal\CarlaUE4\Plugins\Carla\Source\Carla\Server\CarlaServer.cpp 18
Gravedad Código Descripción Proyecto Archivo Línea Estado suprimido
Error MSB3073 El comando &quot;&quot;C:\Program Files\Epic Games\UE_4.22\Engine\Build\BatchFiles\Rebuild.bat&quot; CarlaUE4Editor Win64 Development -Project=&quot;C:\Proyectos\Python-ia\tema4\carla-0.9.8\Unreal\CarlaUE4\CarlaUE4.uproject&quot; -WaitMutex -FromMsBuild&quot; salió con el código -1. CarlaUE4 C:\Program Files (x86)\Microsoft Visual Studio\2017\Enterprise\Common7\IDE\VC\VCTargets\Microsoft.MakeFile.Targets 49
</code></pre><p><a target="_blank" rel="noopener" href="https://github.com/carla-simulator/carla/issues/2642">Carla UE4 build errors · Issue #2642 · carla-simulator&#x2F;carla (github.com)</a></p><p>说是因为是手动下载的zip然后解压出现的bug，在263行后面加一行版本号，</p><pre><code class="cmd">set carla_version=&quot;0.9.14&quot;
</code></pre><p><img src="https://nighttellpic.netlify.app/20230112111857.png"><br>ps:你的不一定是263行，直接<code>crtl+f</code>搜索内容</p><p>###新bug(如果你是非vs2019，请换成vs2019</p><p><img src="https://nighttellpic.netlify.app/20230112112346.png"></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Vikanill/article/details/107057309">https://blog.csdn.net/Vikanill/article/details/107057309</a></p><p><img src="/RackMultipart20230112-1-idkjug_html_d8b2ea9aa2ec61e2.png"><br>解决方法就是换成vs2019……</p><p>#八、最后附上成功的图片！</p><p><img src="https://nighttellpic.netlify.app/20230112112526.png"></p><p>ps：安装了好几天，tmd，vpn一定要，vs2019一定要，py不支持3.10，我用的3.8，服了<br><del>有问题可以下面直接问我，不一定回复</del></p><hr><blockquote><p>后面可能会更新Carla的学习过程…qwq<br>转载啥的记得标明出处</p></blockquote></div><link rel="stylesheet" href="https://cdn.staticfile.org/gitalk/1.7.2/gitalk.min.css"><div id="comment"><div id="gitalk-container"></div></div></div><footer id="footer"><div class="footer-wrap"><div>© 20xx - 2023 Nighttellの小世界 <span class="footer-icon"><i class="fa-solid fa-font-awesome fa-fw"></i> </span>@Nighttell</div><div></div><div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a> & <a target="_blank" rel="noopener" href="https://github.com/argvchs/hexo-theme-particlex">ParticleX Theme</a></div></div></footer></div></div></transition><div id="img_show"><img id="img_content" alt="img_show"></div></div><script src="https://cdn.staticfile.org/highlight.js/11.5.1/highlight.min.js"></script><script src="/js/particlex.js"></script><script src="/js/showimg.js"></script><script src="https://cdn.staticfile.org/gitalk/1.7.2/gitalk.min.js"></script><script>var clientID="f1f9cbb524e619a0e0c5",clientSecret="fba3e08567968d7df9fd8e4315c216c5b042a8ee";const gitalk=new Gitalk({clientID:clientID,clientSecret:clientSecret,repo:"myblog",owner:"Nighttell",admin:["Nighttell"],language:"zh-CN",id:decodeURI(location.pathname),distractionFreeMode:!1,proxy:"https://nighttellblog.herokuapp.com/https://github.com/login/oauth/access_token"});gitalk.render("gitalk-container")</script></body></html>